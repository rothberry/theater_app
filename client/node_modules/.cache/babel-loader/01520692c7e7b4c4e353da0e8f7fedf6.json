{"ast":null,"code":"var _jsxFileName = \"/home/rothberry/dev/flatiron/west-050123-live/4-phase/08-auth-pt2/client/src/App.js\",\n  _s = $RefreshSig$();\n// ðŸ“š Review With Students:\n// Request response cycle\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport Home from \"./components/Home\";\nimport ProductionForm from \"./components/ProductionForm\";\nimport ProductionEdit from \"./components/ProductionEdit\";\nimport Navigation from \"./components/Navigation\";\nimport ProductionDetail from \"./components/ProductionDetail\";\nimport NotFound from \"./components/NotFound\";\nimport Authentication from \"./components/Authentication\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [productions, setProductions] = useState([]);\n  const [productionEdit, setProductionEdit] = useState([]);\n  const [currentUser, setUser] = useState(null);\n  const history = useNavigate();\n  useEffect(() => {\n    fetchUser();\n    fetchProductions();\n  }, []);\n  const fetchProductions = () => fetch(\"/productions\").then(res => res.json()).then(setProductions);\n  const fetchUser = () => {\n    fetch(\"/authorized\").then(res => res.json()).then(userResponse => {\n      if (!userResponse.errors) {\n        setUser(userResponse);\n      }\n    });\n  };\n  const addProduction = production => setProductions(current => [...current, production]);\n  const updateProduction = updated_production => setProductions(productions => productions.map(production => production.id == updated_production.id ? updated_production : production));\n  const deleteProduction = deleted_production => setProductions(productions => productions.filter(production => production.id !== deleted_production.id));\n  const handleEdit = production => {\n    setProductionEdit(production);\n    history.push(`/productions/edit/${production.id}`);\n  };\n\n  // 9.âœ… Return a second block of JSX\n  // If the user is not in state return JSX and include <GlobalStyle /> <Navigation/> and  <Authentication setUser={setUser}/>\n  //9.1 Test out our route! Logout and try to visit other pages. Login and try to visit other pages again. Refresh the page and note that you are still logged in!\n\n  if (!!currentUser) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n        setUser: setUser,\n        handleEdit: handleEdit,\n        loggedIn: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: currentUser ? currentUser.name : \"Not Logged In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productions/new\",\n          element: /*#__PURE__*/_jsxDEV(ProductionForm, {\n            addProduction: addProduction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productions/edit/:id\",\n          element: /*#__PURE__*/_jsxDEV(ProductionEdit, {\n            updateProduction: updateProduction,\n            productionEdit: productionEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/productions/:id\",\n          element: /*#__PURE__*/_jsxDEV(ProductionDetail, {\n            handleEdit: handleEdit,\n            deleteProduction: deleteProduction\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            productions: productions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/authentication\",\n          element: /*#__PURE__*/_jsxDEV(Authentication, {\n            setUser: setUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n}\n_s(App, \"WUyVyll34Q8W7XmQSWVFgbo+jTU=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `;\n_c2 = GlobalStyle;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"GlobalStyle\");","map":{"version":3,"names":["Route","Routes","useNavigate","createGlobalStyle","useEffect","useState","Home","ProductionForm","ProductionEdit","Navigation","ProductionDetail","NotFound","Authentication","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","productions","setProductions","productionEdit","setProductionEdit","currentUser","setUser","history","fetchUser","fetchProductions","fetch","then","res","json","userResponse","errors","addProduction","production","current","updateProduction","updated_production","map","id","deleteProduction","deleted_production","filter","handleEdit","push","children","GlobalStyle","fileName","_jsxFileName","lineNumber","columnNumber","loggedIn","name","path","element","exact","_c","_c2","$RefreshReg$"],"sources":["/home/rothberry/dev/flatiron/west-050123-live/4-phase/08-auth-pt2/client/src/App.js"],"sourcesContent":["// ðŸ“š Review With Students:\n// Request response cycle\nimport { Route, Routes, useNavigate } from \"react-router-dom\"\nimport { createGlobalStyle } from \"styled-components\"\nimport { useEffect, useState } from \"react\"\nimport Home from \"./components/Home\"\nimport ProductionForm from \"./components/ProductionForm\"\nimport ProductionEdit from \"./components/ProductionEdit\"\nimport Navigation from \"./components/Navigation\"\nimport ProductionDetail from \"./components/ProductionDetail\"\nimport NotFound from \"./components/NotFound\"\nimport Authentication from \"./components/Authentication\"\n\nfunction App() {\n\tconst [productions, setProductions] = useState([])\n\tconst [productionEdit, setProductionEdit] = useState([])\n\tconst [currentUser, setUser] = useState(null)\n\tconst history = useNavigate()\n\n\tuseEffect(() => {\n\t\tfetchUser()\n\t\tfetchProductions()\n\t}, [])\n\n\tconst fetchProductions = () =>\n\t\tfetch(\"/productions\")\n\t\t\t.then((res) => res.json())\n\t\t\t.then(setProductions)\n\n\tconst fetchUser = () => {\n\t\tfetch(\"/authorized\")\n\t\t\t.then((res) => res.json())\n\t\t\t.then((userResponse) => {\n\t\t\t\tif (!userResponse.errors) {\n\t\t\t\t\tsetUser(userResponse)\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tconst addProduction = (production) =>\n\t\tsetProductions((current) => [...current, production])\n\n\tconst updateProduction = (updated_production) =>\n\t\tsetProductions((productions) =>\n\t\t\tproductions.map((production) =>\n\t\t\t\tproduction.id == updated_production.id ? updated_production : production\n\t\t\t)\n\t\t)\n\n\tconst deleteProduction = (deleted_production) =>\n\t\tsetProductions((productions) =>\n\t\t\tproductions.filter(\n\t\t\t\t(production) => production.id !== deleted_production.id\n\t\t\t)\n\t\t)\n\n\tconst handleEdit = (production) => {\n\t\tsetProductionEdit(production)\n\t\thistory.push(`/productions/edit/${production.id}`)\n\t}\n\n\t// 9.âœ… Return a second block of JSX\n\t// If the user is not in state return JSX and include <GlobalStyle /> <Navigation/> and  <Authentication setUser={setUser}/>\n\t//9.1 Test out our route! Logout and try to visit other pages. Login and try to visit other pages again. Refresh the page and note that you are still logged in!\n\n\tif (!!currentUser) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<GlobalStyle />\n\t\t\t\t<Navigation setUser={setUser} handleEdit={handleEdit} loggedIn={currentUser}/>\n\t\t\t\t<h1>{currentUser ? currentUser.name : \"Not Logged In\"}</h1>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/productions/new\"\n\t\t\t\t\t\telement={<ProductionForm addProduction={addProduction} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/productions/edit/:id\"\n\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t<ProductionEdit\n\t\t\t\t\t\t\t\tupdateProduction={updateProduction}\n\t\t\t\t\t\t\t\tproductionEdit={productionEdit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/productions/:id\"\n\t\t\t\t\t\telement={\n\t\t\t\t\t\t\t<ProductionDetail\n\t\t\t\t\t\t\t\thandleEdit={handleEdit}\n\t\t\t\t\t\t\t\tdeleteProduction={deleteProduction}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route exact path=\"/\" element={<Home productions={productions} />} />\n\t\t\t\t\t<Route element={<NotFound />} />\n\t\t\t\t</Routes>\n\t\t\t</>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<GlobalStyle />\n\t\t\t\t<Navigation />\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/authentication\"\n\t\t\t\t\t\telement={<Authentication setUser={setUser} />}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <Route element={<NotFound />} /> */}\n\t\t\t\t</Routes>\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default App\n\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}