(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{201:function(t,e,n){"use strict";n.r(e);var i,c=n(0),r=n(84),a=n.n(r),o=n(9),s=n(7),l=n(4),j=n(3),d=n(10),u=n(15),b=n(1);var h,p,x=function(t){var e=t.production,n=e.title,i=e.budget,c=e.genre,r=e.image,a=e.id;return Object(b.jsx)(O,{id:a,children:Object(b.jsxs)(u.b,{to:"/productions/".concat(a),children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:n}),Object(b.jsx)("p",{children:c}),Object(b.jsxs)("p",{children:["$ ",i]})]}),Object(b.jsx)("img",{src:r,alt:n})]})})},O=d.b.li(i||(i=Object(o.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: start;\n\tfont-family: Arial, sans-serif;\n\tmargin: 5px;\n\t&:hover {\n\t\ttransform: scale(1.15);\n\t\ttransform-origin: top left;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: white;\n\t}\n\timg {\n\t\twidth: 180px;\n\t\tmargin-left: 50%;\n\t\tmask-image: linear-gradient(\n\t\t\tto left,\n\t\t\trgba(0, 0, 0, 0.9) 80%,\n\t\t\ttransparent 100%\n\t\t);\n\t}\n\tposition: relative;\n\tdiv {\n\t\tposition: absolute;\n\t}\n"])));var f,m=function(t){var e=t.productions;return Object(b.jsxs)("div",{children:[Object(b.jsxs)(g,{children:[Object(b.jsx)("span",{children:"F"}),"latIron Theater ",Object(b.jsx)("span",{children:"C"}),"ompany"]}),Object(b.jsx)(v,{children:e.map((function(t){return Object(b.jsx)(x,{production:t},t.id)}))})]})},g=d.b.h1(h||(h=Object(o.a)(["\n\ttext-transform: uppercase;\n\tfont-family: Arial, sans-serif;\n\twidth: 70px;\n\tfont-size: 70px;\n\tline-height: 0.8;\n\n\ttransform: scale(0.7, 1.4);\n\n\tspan {\n\t\tcolor: #42ddf5;\n\t}\n"]))),v=d.b.ul(p||(p=Object(o.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"])));var y,C=function(t){var e=t.productions;return Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{}),Object(b.jsx)(m,{productions:e})]})},w=d.b.img.attrs((function(){return{src:"https://images.unsplash.com/photo-1518834107812-67b0b7c58434?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1335&q=80"}}))(f||(f=Object(o.a)(["\n    position: absolute;\n    z-index:-1;\n  "]))),S=n(46),k=n(23);var E,A=function(t){var e=t.addProduction,n=Object(j.n)(),i=k.b().shape({title:k.c().required("Must enter a title"),budget:k.a().positive()}),c=Object(S.a)({initialValues:{title:"",genre:"",budget:"",image:"",director:"",description:""},validationSchema:i,onSubmit:function(t){fetch("/productions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}).then((function(t){t.ok&&t.json().then((function(t){e(t),n.push("/productions/".concat(t.id))}))}))}});return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(P,{onSubmit:c.handleSubmit,children:[Object(b.jsx)("label",{children:"Title "}),Object(b.jsx)("input",{type:"text",name:"title",value:c.values.title,onChange:c.handleChange}),Object(b.jsx)("label",{children:" Genre"}),Object(b.jsx)("input",{type:"text",name:"genre",value:c.values.genre,onChange:c.handleChange}),Object(b.jsx)("label",{children:"Budget"}),Object(b.jsx)("input",{type:"number",name:"budget",value:c.values.budget,onChange:c.handleChange}),Object(b.jsx)("label",{children:"Image"}),Object(b.jsx)("input",{type:"text",name:"image",value:c.values.image,onChange:c.handleChange}),Object(b.jsx)("label",{children:"Director"}),Object(b.jsx)("input",{type:"text",name:"director",value:c.values.director,onChange:c.handleChange}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textarea",{type:"text",rows:"4",cols:"50",name:"description",value:c.values.description,onChange:c.handleChange}),Object(b.jsx)("input",{type:"submit"})]})})},P=d.b.form(y||(y=Object(o.a)(['\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 400px;\n\tmargin: auto;\n\tfont-family: Arial;\n\tfont-size: 30px;\n\tinput[type="submit"] {\n\t\tbackground-color: #42ddf5;\n\t\tcolor: white;\n\t\theight: 40px;\n\t\tfont-family: Arial;\n\t\tfont-size: 30px;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n'])));var z,D,T,I=function(t){var e=t.updateProduction,n=t.production_edit,i=Object(j.n)(),c=k.b().shape({title:k.c().required("Must enter a title"),budget:k.a().positive()}),r=Object(S.a)({initialValues:{title:n.title,genre:n.genre,budget:n.budget,image:n.image,director:n.director,description:n.description},validationSchema:c,onSubmit:function(t){fetch("/productions/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}).then((function(t){return t.json()})).then((function(t){e(t),i.push("/productions/".concat(t.id))}))}});return Object(b.jsxs)("div",{className:"App",children:[r.errors&&Object.values(r.errors).map((function(t){return Object(b.jsx)("h2",{children:t})})),Object(b.jsxs)(N,{onSubmit:r.handleSubmit,children:[Object(b.jsx)("label",{children:"Title "}),Object(b.jsx)("input",{type:"text",name:"title",value:r.values.title,onChange:r.handleChange}),Object(b.jsx)("label",{children:" Genre"}),Object(b.jsx)("input",{type:"text",name:"genre",value:r.values.genre,onChange:r.handleChange}),Object(b.jsx)("label",{children:"Budget"}),Object(b.jsx)("input",{type:"number",name:"budget",value:r.values.budget,onChange:r.handleChange}),Object(b.jsx)("label",{children:"Image"}),Object(b.jsx)("input",{type:"text",name:"image",value:r.values.image,onChange:r.handleChange}),Object(b.jsx)("label",{children:"Director"}),Object(b.jsx)("input",{type:"text",name:"director",value:r.values.director,onChange:r.handleChange}),Object(b.jsx)("label",{children:"Description"}),Object(b.jsx)("textarea",{type:"text",rows:"4",cols:"50",name:"description",value:r.values.description,onChange:r.handleChange}),Object(b.jsx)("input",{type:"submit"})]})]})},N=d.b.form(E||(E=Object(o.a)(["\n    display:flex;\n    flex-direction:column;\n    width: 400px;\n    margin:auto;\n    font-family:Arial;\n    font-size:30px;\n    input[type=submit]{\n      background-color:#42ddf5;\n      color: white;\n      height:40px;\n      font-family:Arial;\n      font-size:30px;\n      margin-top:10px;\n      margin-bottom:10px;\n    }\n  "]))),F=n(93);var L,U=function(t){var e=t.setUser,n=t.loggedIn,i=Object(c.useState)(!1),r=Object(l.a)(i,2),a=r[0],o=r[1],s=Object(j.n)();return Object(b.jsxs)(M,{children:[Object(b.jsx)(H,{children:"Flatiron Theater Company"}),Object(b.jsx)(B,{children:a?Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{onClick:function(){return o(!a)},children:"x"}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/productions/new",children:"New Production"})}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/",children:" Home"})}),n?Object(b.jsx)("li",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){e(null),s("/authentication")}))},children:" Logout "}):Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/authentication",children:" Login/Signup"})})]}):Object(b.jsx)("div",{onClick:function(){return o(!a)},children:Object(b.jsx)(F.a,{size:30})})})]})},H=d.b.h1(z||(z=Object(o.a)(['\n\tfont-family: "Splash", cursive;\n']))),M=d.b.div(D||(D=Object(o.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]))),B=d.b.div(T||(T=Object(o.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: white;\n\t\tfont-family: Arial;\n\t}\n\ta:hover {\n\t\tcolor: pink;\n\t}\n\tul {\n\t\tlist-style: none;\n\t}\n"])));var G=function(t){var e=t.handleEdit,n=t.deleteProduction,i=Object(c.useState)({cast_members:[]}),r=Object(l.a)(i,2),a=r[0],o=r[1],s=Object(c.useState)(null),d=Object(l.a)(s,2),u=d[0],h=(d[1],Object(j.p)().params),p=Object(j.n)();Object(c.useEffect)((function(){fetch("/productions/".concat(h.id)).then((function(t){return t.json()})).then(o)}),[h.id]);var x=a.id,O=a.title,f=a.genre,m=a.image,g=a.description,v=a.cast_members;return u?Object(b.jsx)("h2",{children:u}):Object(b.jsxs)(J,{id:x,children:[Object(b.jsx)("h1",{children:O}),Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Genre:"}),Object(b.jsx)("p",{children:f}),Object(b.jsx)("h3",{children:"Description:"}),Object(b.jsx)("p",{children:g}),Object(b.jsx)("h2",{children:"Cast Members"}),Object(b.jsx)("ul",{children:v.map((function(t){return Object(b.jsx)("li",{children:"".concat(t.role," : ").concat(t.name)})}))})]}),Object(b.jsx)("img",{src:m,alt:O})]}),Object(b.jsx)("button",{onClick:function(){return e(a)},children:"Edit Production"}),Object(b.jsx)("button",{onClick:function(){return function(t){fetch("/productions/".concat(t.id),{method:"DELETE"}).then((function(){n(t),p.push("/")}))}(a)},children:"Delete Production"})]})},J=d.b.li(L||(L=Object(o.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: start;\n\tfont-family: Arial, sans-serif;\n\tmargin: 5px;\n\th1 {\n\t\tfont-size: 60px;\n\t\tborder-bottom: solid;\n\t\tborder-color: #42ddf5;\n\t}\n\t.wrapper {\n\t\tdisplay: flex;\n\t\tdiv {\n\t\t\tmargin: 10px;\n\t\t}\n\t}\n\timg {\n\t\twidth: 300px;\n\t}\n\tbutton {\n\t\tbackground-color: #42ddf5;\n\t\tcolor: white;\n\t\theight: 40px;\n\t\tfont-family: Arial;\n\t\tfont-size: 30px;\n\t\tmargin-top: 10px;\n\t}\n"])));var q,V=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Sorry We can't find the Page you're looking for!"}),Object(b.jsx)("h1",{children:"404 Not Found"})]})};var _,W=function(t){var e=t.setUser,n=Object(c.useState)(!1),i=Object(l.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),d=s[0],u=s[1],h=Object(c.useState)(""),p=Object(l.a)(h,2),x=p[0],O=p[1],f=Object(c.useState)(""),m=Object(l.a)(f,2),g=m[0],v=m[1],y=Object(j.n)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h2",{style:{color:"red"},children:[" ","Errors Here!!"]}),Object(b.jsx)("h2",{children:"Please Log in or Sign up!"}),Object(b.jsx)("h2",{children:r?"Already a member?":"Not a member?"}),Object(b.jsx)("button",{onClick:function(){return a((function(t){return!t}))},children:r?"Log In!":"Register now!"}),Object(b.jsxs)(R,{onSubmit:function(t){t.preventDefault(),console.log({name:d,email:x,password:g});var n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:d,email:x,password:g})};fetch(r?"/signup":"/login",n).then((function(t){return t.json()})).then((function(t){console.log({newUser:t}),t.errors?console.log(t.errors):(e(t),y("/"))}))},children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{type:"text",name:"name",value:d,onChange:function(t){return u(t.target.value)}}),Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",name:"password",value:g,onChange:function(t){return v(t.target.value)}}),r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",value:x,onChange:function(t){return O(t.target.value)}})]}),Object(b.jsx)("input",{type:"submit",value:r?"Sign Up!":"Log In!"})]})]})},R=d.b.form(q||(q=Object(o.a)(['\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 400px;\n\tmargin: auto;\n\tfont-family: Arial;\n\tfont-size: 30px;\n\tinput[type="submit"] {\n\t\tbackground-color: #42ddf5;\n\t\tcolor: white;\n\t\theight: 40px;\n\t\tfont-family: Arial;\n\t\tfont-size: 30px;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n'])));var Y=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],i=e[1],r=Object(c.useState)([]),a=Object(l.a)(r,2),o=a[0],d=a[1],u=Object(c.useState)(null),h=Object(l.a)(u,2),p=h[0],x=h[1],O=Object(j.n)();Object(c.useEffect)((function(){m(),f()}),[]);var f=function(){return fetch("/productions").then((function(t){return t.json()})).then(i)},m=function(){fetch("/authorized").then((function(t){return t.json()})).then((function(t){t.errors||x(t)}))},g=function(t){d(t),O.push("/productions/edit/".concat(t.id))};return p?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)($,{}),Object(b.jsx)(U,{setUser:x,handleEdit:g,loggedIn:!!p}),Object(b.jsx)("h1",{children:p?p.name:"Not Logged In"}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/productions/new",element:Object(b.jsx)(A,{addProduction:function(t){return i((function(e){return[].concat(Object(s.a)(e),[t])}))}})}),Object(b.jsx)(j.a,{path:"/productions/edit/:id",element:Object(b.jsx)(I,{updateProduction:function(t){return i((function(e){return e.map((function(e){return e.id===t.id?t:e}))}))},productionEdit:o})}),Object(b.jsx)(j.a,{path:"/productions/:id",element:Object(b.jsx)(G,{handleEdit:g,deleteProduction:function(t){return i((function(e){return e.filter((function(e){return e.id!==t.id}))}))}})}),Object(b.jsx)(j.a,{exact:!0,path:"/",element:Object(b.jsx)(C,{productions:n})}),Object(b.jsx)(j.a,{element:Object(b.jsx)(V,{})})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)($,{}),Object(b.jsx)(U,{setUser:x,handleEdit:g,loggedIn:!!p}),Object(b.jsx)(j.c,{children:Object(b.jsx)(j.a,{exact:!0,path:"/authentication",element:Object(b.jsx)(W,{setUser:x})})})]})},$=Object(d.a)(_||(_=Object(o.a)(["\n    body{\n      background-color: black; \n      color:white;\n    }\n    "])));a.a.render(Object(b.jsx)(u.a,{children:Object(b.jsx)(Y,{})}),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.2ebe93dc.chunk.js.map