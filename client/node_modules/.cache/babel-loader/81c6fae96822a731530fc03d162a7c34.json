{"ast":null,"code":"var _jsxFileName = \"/home/rothberry/dev/flatiron/west-050123-live/4-phase/07-auth-pt1/client/src/App.js\",\n  _s = $RefreshSig$();\n// ðŸ“š Review With Students:\n// Request response cycle\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport { createGlobalStyle } from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport Home from \"./components/Home\";\nimport ProductionForm from \"./components/ProductionForm\";\nimport ProductionEdit from \"./components/ProductionEdit\";\nimport Navigation from \"./components/Navigation\";\nimport ProductionDetail from \"./components/ProductionDetail\";\nimport NotFound from \"./components/NotFound\";\nimport Authentication from \"./components/Authentication\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [productions, setProductions] = useState([]);\n  const [productionEdit, setProductionEdit] = useState([]);\n  const [currentUser, setUser] = useState(null);\n  const history = useNavigate();\n  useEffect(() => {\n    fetchUser();\n    fetchProductions();\n  }, []);\n  const fetchProductions = () => fetch(\"/productions\").then(res => res.json()).then(setProductions);\n  const fetchUser = () => {\n    // 8.âœ… Create a GET fetch that goes to '/authorized'\n    // If returned successfully set the user to state and fetch our productions\n    // else set the user in state to Null\n    fetch(\"/authorized\").then(res => res.json()).then(setUser());\n  };\n  const addProduction = production => setProductions(current => [...current, production]);\n  const updateProduction = updated_production => setProductions(productions => productions.map(production => production.id == updated_production.id ? updated_production : production));\n  const deleteProduction = deleted_production => setProductions(productions => productions.filter(production => production.id !== deleted_production.id));\n  const handleEdit = production => {\n    setProductionEdit(production);\n    history.push(`/productions/edit/${production.id}`);\n  };\n\n  // 9.âœ… Return a second block of JSX\n  // If the user is not in state return JSX and include <GlobalStyle /> <Navigation/> and  <Authentication setUser={setUser}/>\n  //9.1 Test out our route! Logout and try to visit other pages. Login and try to visit other pages again. Refresh the page and note that you are still logged in!\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {\n      setUser: setUser,\n      handleEdit: handleEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: currentUser ? currentUser.name : \"Not Logged In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/productions/new\",\n        element: /*#__PURE__*/_jsxDEV(ProductionForm, {\n          addProduction: addProduction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/productions/edit/:id\",\n        element: /*#__PURE__*/_jsxDEV(ProductionEdit, {\n          updateProduction: updateProduction,\n          productionEdit: productionEdit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/productions/:id\",\n        element: /*#__PURE__*/_jsxDEV(ProductionDetail, {\n          handleEdit: handleEdit,\n          deleteProduction: deleteProduction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/authentication\",\n        element: /*#__PURE__*/_jsxDEV(Authentication, {\n          setUser: setUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {\n          productions: productions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"WUyVyll34Q8W7XmQSWVFgbo+jTU=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `;\n_c2 = GlobalStyle;\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"GlobalStyle\");","map":{"version":3,"names":["Route","Routes","useNavigate","createGlobalStyle","useEffect","useState","Home","ProductionForm","ProductionEdit","Navigation","ProductionDetail","NotFound","Authentication","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","productions","setProductions","productionEdit","setProductionEdit","currentUser","setUser","history","fetchUser","fetchProductions","fetch","then","res","json","addProduction","production","current","updateProduction","updated_production","map","id","deleteProduction","deleted_production","filter","handleEdit","push","children","GlobalStyle","fileName","_jsxFileName","lineNumber","columnNumber","name","path","element","exact","_c","_c2","$RefreshReg$"],"sources":["/home/rothberry/dev/flatiron/west-050123-live/4-phase/07-auth-pt1/client/src/App.js"],"sourcesContent":["// ðŸ“š Review With Students:\n// Request response cycle\nimport { Route, Routes, useNavigate } from \"react-router-dom\"\nimport { createGlobalStyle } from \"styled-components\"\nimport { useEffect, useState } from \"react\"\nimport Home from \"./components/Home\"\nimport ProductionForm from \"./components/ProductionForm\"\nimport ProductionEdit from \"./components/ProductionEdit\"\nimport Navigation from \"./components/Navigation\"\nimport ProductionDetail from \"./components/ProductionDetail\"\nimport NotFound from \"./components/NotFound\"\nimport Authentication from \"./components/Authentication\"\n\nfunction App() {\n\tconst [productions, setProductions] = useState([])\n\tconst [productionEdit, setProductionEdit] = useState([])\n\tconst [currentUser, setUser] = useState(null)\n\tconst history = useNavigate()\n\n\tuseEffect(() => {\n\t\tfetchUser()\n\t\tfetchProductions()\n\t}, [])\n\n\tconst fetchProductions = () =>\n\t\tfetch(\"/productions\")\n\t\t\t.then((res) => res.json())\n\t\t\t.then(setProductions)\n\n\tconst fetchUser = () => {\n\t\t// 8.âœ… Create a GET fetch that goes to '/authorized'\n\t\t// If returned successfully set the user to state and fetch our productions\n\t\t// else set the user in state to Null\n\t\tfetch(\"/authorized\")\n\t\t.then(res => res.json())\n\t\t.then(setUser())\n\t}\n\n\tconst addProduction = (production) =>\n\t\tsetProductions((current) => [...current, production])\n\n\tconst updateProduction = (updated_production) =>\n\t\tsetProductions((productions) =>\n\t\t\tproductions.map((production) =>\n\t\t\t\tproduction.id == updated_production.id ? updated_production : production\n\t\t\t)\n\t\t)\n\n\tconst deleteProduction = (deleted_production) =>\n\t\tsetProductions((productions) =>\n\t\t\tproductions.filter(\n\t\t\t\t(production) => production.id !== deleted_production.id\n\t\t\t)\n\t\t)\n\n\tconst handleEdit = (production) => {\n\t\tsetProductionEdit(production)\n\t\thistory.push(`/productions/edit/${production.id}`)\n\t}\n\n\t// 9.âœ… Return a second block of JSX\n\t// If the user is not in state return JSX and include <GlobalStyle /> <Navigation/> and  <Authentication setUser={setUser}/>\n\t//9.1 Test out our route! Logout and try to visit other pages. Login and try to visit other pages again. Refresh the page and note that you are still logged in!\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStyle />\n\t\t\t<Navigation setUser={setUser} handleEdit={handleEdit} />\n\t\t\t<h1>{currentUser ? currentUser.name : \"Not Logged In\"}</h1>\n\t\t\t<Routes>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/productions/new\"\n\t\t\t\t\telement={<ProductionForm addProduction={addProduction} />}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/productions/edit/:id\"\n\t\t\t\t\telement={\n\t\t\t\t\t\t<ProductionEdit\n\t\t\t\t\t\t\tupdateProduction={updateProduction}\n\t\t\t\t\t\t\tproductionEdit={productionEdit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/productions/:id\"\n\t\t\t\t\telement={\n\t\t\t\t\t\t<ProductionDetail\n\t\t\t\t\t\t\thandleEdit={handleEdit}\n\t\t\t\t\t\t\tdeleteProduction={deleteProduction}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/authentication\"\n\t\t\t\t\telement={<Authentication setUser={setUser} />}\n\t\t\t\t/>\n\t\t\t\t<Route exact path=\"/\" element={<Home productions={productions} />} />\n\t\t\t\t<Route element={<NotFound />} />\n\t\t\t</Routes>\n\t\t</>\n\t)\n}\n\nexport default App\n\nconst GlobalStyle = createGlobalStyle`\n    body{\n      background-color: black; \n      color:white;\n    }\n    `\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}